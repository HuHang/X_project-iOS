<!DOCTYPE html>
<head>
    <meta charset="utf-8">
        <title>ECharts</title>
        
</head>
<body>
    <!-- 为ECharts准备一个具备大小（宽高）的Dom -->
    <div id="main" style="height:260px;width: 100%;"></div>
    <!-- ECharts单文件引入 -->
    <script src="http://echarts.baidu.com/build/dist/echarts.js"></script>
    <script type="text/javascript">
        var title = "";
        var ocData;
        var ocValueData;
        function setData(ocvalue){
            ocData = ocvalue;
        }
    function setValueData(ocvalue){
        ocValueData = ocvalue;
    }
    function setTitle(str){
        title = str;
    }
    
    // 路径配置
    require.config({
                   paths: {
                   echarts: 'http://echarts.baidu.com/build/dist'
                   }
                   });
                   
                   // 使用
                   require(
                           [
                            'echarts',
                            'echarts/chart/bar'// 使用柱状图就加载bar模块，按需加载
                            ],
                           function (ec) {
                           // 基于准备好的dom，初始化echarts图表
                           var myChart = ec.init(document.getElementById('main'));
                           
                           var xAxisData = [];
                           var data1 = [];
                           var data2 = [];
                           for (var i = 0; i < 100; i++) {
                           xAxisData.push('类目' + i);
                           data1.push((Math.sin(i / 5) * (i / 5 -10) + i / 6) * 5);
                           data2.push((Math.cos(i / 5) * (i / 5 -10) + i / 6) * 5);
                           }
                           
                           option = {
                           title: {
                           text: '柱状图动画延迟'
                           },
                           legend: {
                           data: ['bar', 'bar2'],
                           align: 'left'
                           },
                           toolbox: {
                           // y: 'bottom',
                           feature: {
                           magicType: {
                           type: ['stack', 'tiled']
                           },
                           dataView: {},
                           saveAsImage: {
                           pixelRatio: 2
                           }
                           }
                           },
                           tooltip: {},
                           xAxis: {
                           data: xAxisData,
                           silent: false,
                           splitLine: {
                           show: false
                           }
                           },
                           yAxis: {
                           },
                           series: [{
                                    name: 'bar',
                                    type: 'bar',
                                    data: data1,
                                    animationDelay: function (idx) {
                                    return idx * 10;
                                    }
                                    }, {
                                    name: 'bar2',
                                    type: 'bar',
                                    data: data2,
                                    animationDelay: function (idx) {
                                    return idx * 10 + 100;
                                    }
                                    }],
                           animationEasing: 'elasticOut',
                           animationDelayUpdate: function (idx) {
                           return idx * 5;
                           }
                           };
                           // 为echarts对象加载数据
                           myChart.setOption(option);
                           }
                           );
        </script>
</body>
